kaboom(),loadSprite("bird","sprites/bluebird-downflap.png"),loadSprite("bg","sprites/background-night.png"),loadSprite("base","sprites/base.png"),loadSprite("gameover","sprites/gameover.png"),loadSprite("message","sprites/message.png"),loadSprite("bg2","sprites/background-day.png"),loadSprite("coin","sprites/undefined - Imgur.png"),loadSprite("birdHaut","sprites/bluebird-upflap.png"),loadSprite("bg3","sprites/ghostwiretokyo-tokyo-627153326ccd5761625815.jpg"),setGravity(2400),loadBean(),scene("message",(()=>{add([sprite("bg",{width:width(),height:height()})]),add([sprite("message"),pos(width()/2,height()/2-108),scale(3),anchor("center")]),onKeyPress("space",(()=>go("game"))),onClick((()=>go("game")))})),go("message"),scene("game",(()=>{const e=add([timer()]);let t=320;add([sprite("bg",{width:width(),height:height()}),"bg"]);const d=add([sprite("birdHaut",{height:50}),pos(width()/4,0),area(),z(2),body()]);d.onUpdate((()=>{(d.pos.y>=height()||d.pos.y<=-60)&&go("lose",s)})),onKeyPress("space",(()=>{sprite("bird",{height:50}),d.jump(800)})),onGamepadButtonPress("south",(()=>{d.jump(800),sprite("bird",{height:50})})),onClick((()=>{d.jump(800),sprite("bird",{height:50})})),d.onCollide("tube",(()=>{go("lose",s),addKaboom(d.pos)})),d.onCollide("coin",(e=>{i+=2,a.text=i,destroy(e)})),loop(2,(()=>{!function(){let e=rand(60,height()-60-240),d=height()-e-240;add([pos(width(),0),rect(64,e),color(2,167,89),outline(4),area(),z(2),move(LEFT,t),offscreen({destroy:!0}),"tube"]),add([pos(width(),e+240),rect(64,d),color(2,167,89),outline(4),area(),z(2),move(LEFT,t),offscreen({destroy:!0}),"tube",{passed:!1}]);const s=add([sprite("coin",{height:50}),pos(rand(1,width(1e4)),rand(1,height(1e3))),area(),z(2),move(LEFT,t),offscreen({destroy:!0}),"coin"]);s.onCollide("tube",(()=>{destroy(s)}))}()})),onUpdate("tube",(e=>{e.pos.x+e.width<=d.pos.x&&!1===e.passed&&(s++,o.text=s,e.passed=!0)}));let s=0;const o=add([text(s),pos(width()/2,80),fixed(),z(100)]);let i=0;const a=add([text(i),pos(width()/20,80),fixed(),z(100)]);add([sprite("coin",{height:50}),pos(width()/50,78),fixed(),z(100)]);let r=null;onKeyPress("p",(()=>{e.paused=!e.paused,r&&r.cancel(),r=tween(h.pos,e.paused?center():center().add(0,700),.5,(e=>h.pos=e),easings.easeOutElastic),e.paused?(h.hidden=!1,h.paused=!1):r.onEnd((()=>{h.hidden=!0,h.paused=!0}))}));const h=add([rect(300,400),color(255,255,255),outline(4),anchor("center"),z(200),pos(center().add(0,700))]);h.hidden=!0,h.paused=!0,onUpdate("bg",(e=>{s>20&&(t=1e3,destroy(e),add([sprite("bg2",{width:width(),height:height()}),"bg2",z(0)]))})),onUpdate("bg2",(e=>{s>30&&(t=200,destroy(e),add([sprite("bg3",{width:width(),height:height()}),z(0)]))}))})),scene("lose",(e=>{add([sprite("bg",{width:width(),height:height()})]),add([sprite("gameover"),pos(width()/2,height()/2-300),scale(3),anchor("center")]),add([sprite("bird"),pos(width()/2,height()/2-108),scale(3),anchor("center")]),add([sprite("coin"),pos(width()/1.9,height()/2- -5),scale(3),anchor("center")]),add([text(2*e),pos(width()/2,height()/2-0),scale(1.25),anchor("center")]),add([text(e),pos(width()/2,height()/2+108),scale(3),anchor("center")]),onKeyPress("space",(()=>go("game"))),onClick((()=>go("game")))})),go("game"),go("message");